FROM public.ecr.aws/lambda/python:3.11

# 필요한 패키지 설치 (Lambda T1과 동일한 버전)
RUN pip install --no-cache-dir \
    numpy==2.2.1 \
    scipy==1.14.1 \
    scikit-learn==1.6.1 \
    boto3

# matplotlib 설치 (pre-built wheel만 사용)
RUN pip install --no-cache-dir --only-binary=:all: matplotlib==3.9.0

# Lambda 함수 코드 복사
COPY lambda_t2_importance.py ${LAMBDA_TASK_ROOT}/

# Handler 설정
CMD ["lambda_t2_importance.lambda_handler"]
